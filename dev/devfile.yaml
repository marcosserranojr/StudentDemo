apiVersion: 1.0.0
metadata:
  name: StudentDemoSpringBootJPA2
projects:
  - name: StudentDemo
    source:
      location: 'https://github.com/marcosserranojr/StudentDemo.git'
      type: git
components:
  - id: redhat/java/latest
    type: chePlugin
  - type: kubernetes
    reference: postgres.yaml
    alias: postgres
commands:
  - name: CleanInstall
    actions:
      - workdir: '${CHE_PROJECTS_ROOT}/StudentDemo'
        type: exec
        command: mvn clean install
        component: maven
  - name: Run
    actions:
      - workdir: '${CHE_PROJECTS_ROOT}/StudentDemo/target'
        type: exec
        command: java -jar *.jar
        component: maven